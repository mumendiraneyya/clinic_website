---
import Layout from '~/layouts/PageLayout.astro';

const metadata = {
  title: 'تم الحجز بنجاح',
  robots: {
    index: false,
    follow: false,
  },
};
---

<Layout metadata={metadata}>
  <section class="py-12 md:py-20">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 text-center">
      <div class="mb-8">
        <span class="text-6xl">✅</span>
      </div>

      <h1 class="text-4xl md:text-5xl font-bold mb-4 font-heading dark:text-gray-200">
        تم الحجز بنجاح
      </h1>

      <p class="text-xl text-muted dark:text-slate-300 mb-8">
        شكراً لك! سنتواصل معك قريباً لتأكيد موعدك.
      </p>

      <a
        href="/"
        class="btn-primary inline-flex items-center gap-2"
      >
        العودة للصفحة الرئيسية
      </a>
    </div>

    <!-- Debug section - shows URL parameters (for development/prototyping) -->
    <div id="debug-section" class="max-w-3xl mx-auto px-4 sm:px-6 mt-12 hidden">
      <details class="bg-gray-100 dark:bg-gray-800 rounded-lg p-4" open>
        <summary class="cursor-pointer text-sm text-muted dark:text-slate-400 font-mono">
          URL Parameters (debug)
        </summary>
        <pre id="params-output" class="mt-4 text-xs overflow-x-auto text-start bg-gray-200 dark:bg-gray-900 p-4 rounded" dir="ltr"></pre>
      </details>
    </div>
  </section>

  <script>
    // Read URL parameters client-side
    document.addEventListener('astro:page-load', () => {
      const params = Object.fromEntries(new URLSearchParams(window.location.search));
      const debugSection = document.getElementById('debug-section');
      const paramsOutput = document.getElementById('params-output');

      if (Object.keys(params).length > 0 && debugSection && paramsOutput) {
        debugSection.classList.remove('hidden');
        paramsOutput.textContent = JSON.stringify(params, null, 2);
      }
    });
  </script>
</Layout>
